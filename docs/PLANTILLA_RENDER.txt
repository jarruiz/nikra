=======================================================================
üöÄ PLANTILLA DE CONFIGURACI√ìN PARA RENDER
=======================================================================

Esta plantilla contiene toda la informaci√≥n necesaria para configurar
tu servicio en Render. Copia y pega los valores correspondientes.

=======================================================================
PASO 1: CREAR BASE DE DATOS POSTGRESQL
=======================================================================

Ve a: New + ‚Üí PostgreSQL

Configuraci√≥n:
- Name: nikra-db
- Database: nikra_db
- User: nikra_user
- Region: Frankfurt (o tu regi√≥n preferida)
- Plan: Starter ($7/mes) o Free para pruebas

Despu√©s de crear, GUARDA las credenciales que aparecen.

=======================================================================
PASO 2: CREAR SERVICIO WEB
=======================================================================

Ve a: New + ‚Üí Web Service

Configuraci√≥n B√°sica:
- Name: nikra-backend
- Region: Frankfurt (misma que la BD)
- Branch: main
- Runtime: Node
- Build Command: npm ci && npm run build
- Start Command: npm run start:prod
- Plan: Starter ($7/mes)

=======================================================================
PASO 3: CONFIGURAR VARIABLES DE ENTORNO
=======================================================================

En la secci√≥n "Advanced" ‚Üí "Environment Variables", a√±ade:

--- COPIA DESDE AQU√ç ---

NODE_ENV=production
PORT=3000

# Base de Datos (obt√©n estos valores de tu servicio PostgreSQL)
DB_HOST=
DB_PORT=5432
DB_USERNAME=
DB_PASSWORD=
DB_DATABASE=nikra_db

# JWT Secrets (IMPORTANTE: Genera valores seguros √∫nicos)
# Ejecuta: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=
JWT_REFRESH_EXPIRES_IN=7d

--- HASTA AQU√ç ---

üí° TIP: Render puede autocompletar las variables de BD si seleccionas
tu base de datos desde el dropdown en cada campo DB_*.

=======================================================================
PASO 4: GENERAR JWT SECRETS
=======================================================================

IMPORTANTE: NO uses valores por defecto. Genera valores √∫nicos.

Opci√≥n A - Usando Node.js en tu terminal local:
-----------------------------------------------
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

Ejecuta este comando DOS VECES para obtener:
1. Valor para JWT_SECRET
2. Valor para JWT_REFRESH_SECRET

Opci√≥n B - Usando OpenSSL:
---------------------------
openssl rand -hex 32

Opci√≥n C - Online (sitio seguro):
----------------------------------
https://generate-secret.vercel.app/32

=======================================================================
PASO 5: CONFIGURAR DISCO PERSISTENTE
=======================================================================

Despu√©s de crear el servicio web:

1. Ve a tu servicio ‚Üí "Disks" en el men√∫ lateral
2. Click en "Add Disk"
3. Configura:
   - Name: uploads
   - Mount Path: /app/uploads
   - Size: 10 GB

Esto es NECESARIO para que los archivos subidos (avatares, carteles,
logos) no se pierdan al redesplegar.

=======================================================================
PASO 6: EJECUTAR MIGRACIONES
=======================================================================

Una vez que el despliegue termine (estado "Live"):

1. Ve a tu servicio web ‚Üí "Shell"
2. Ejecuta:

npm run migration:run

3. Verifica el estado:

npm run migration:show

=======================================================================
PASO 7: VERIFICAR DESPLIEGUE
=======================================================================

Abre en tu navegador:

https://tu-servicio.onrender.com/api/docs

Deber√≠as ver la documentaci√≥n Swagger UI.

=======================================================================
CONFIGURACI√ìN OPCIONAL
=======================================================================

CORS (si tu frontend est√° en otro dominio):
--------------------------------------------
CORS_ORIGIN=https://tu-frontend.com

Dominio Personalizado:
----------------------
1. Ve a Settings ‚Üí Custom Domains
2. Click en "Add Custom Domain"
3. Ingresa: api.tudominio.com
4. Configura el registro CNAME en tu DNS:
   api.tudominio.com ‚Üí CNAME ‚Üí tu-servicio.onrender.com

=======================================================================
CHECKLIST FINAL
=======================================================================

Verifica que todo est√© correcto:

[ ] Base de datos PostgreSQL creada y funcionando
[ ] Servicio web desplegado (estado "Live")
[ ] Todas las variables de entorno configuradas
[ ] JWT_SECRET y JWT_REFRESH_SECRET tienen valores √∫nicos seguros
[ ] Disco persistente configurado en /app/uploads
[ ] Migraciones ejecutadas correctamente
[ ] Puedes acceder a /api/docs sin errores
[ ] Pruebas de endpoints b√°sicos funcionan

=======================================================================
COSTOS ESTIMADOS (PRODUCCI√ìN)
=======================================================================

Web Service (Starter):     $7/mes
PostgreSQL (Starter):      $7/mes
Disk 10GB:                 $0 (incluido)
                          -------
TOTAL:                    ~$14/mes

Nota: Render ofrece $5 de cr√©dito gratis mensual = ~$9/mes real

Para desarrollo/testing: Usa plan Free (expira en 90 d√≠as)

=======================================================================
RECURSOS Y SOPORTE
=======================================================================

üìñ Gu√≠as completas:
   - docs/INICIO_RAPIDO_RENDER.md
   - docs/DESPLIEGUE_RENDER.md
   - docs/VARIABLES_ENTORNO.md

üåê Render Docs:
   https://render.com/docs

üí¨ Render Community:
   https://community.render.com

üìß Soporte del proyecto:
   creative.feelve@gmail.com

=======================================================================

¬°Feliz despliegue! üöÄ

